### SQL 高级特性

------

##### 01：事务

###### Mysql

- 显示的开启事务：start transaction；
- 结束事务：commit 或者 rollback，结束事务也可能由以下情景触发；
  1. 服务器宕机，在这种情况下，服务器重启时事务将会被自动回 滚; 
  2. 提交一个DML 语句，比如：alter table，这将会引起当前事务子提交和一个新事务启动; 
  3. 提交另一个start transaction命令，将会引起前一个事务提交;
  4.  服务器检测到一个死锁并且确定当前事务就是罪魁祸首，那么服务器就会提前结束当前的事务。这种情况 下，事务将会被回滚,同时释放错误消息；
- 事务保存点
  - 需要回滚事务，但不想回滚之前所有的操作，才内部创建多个保存点（快照），所有的保存掉都需要一个名字；
  - 创建事务保存点：SAVEPOINT name；
  - 回滚掉事务保存点：ROLLBACK TO SAVEPOINT name；

##### 02：视图

- p216

##### 03：元数据